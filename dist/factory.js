define([],function(){function e(e,o){o||(o=document.body),e&&e.name?(e.service||(e.service="/52n-sos/sos/json"),require(["widget/"+e.name],function(r){i(r.inputs,e)?(console.info("Creating "+e.name+" widget from given parameters."),r.init(e,o)):(console.warn("Widget '"+e.name+"' exists, but some mandatory parameters missing. Starting builder."),n(e,o))},function(){console.error("Widget '"+e.name+"' cannot be found. Showing chooser."),r(o)})):(console.info("No widget name specified. Showing chooser."),r(o))}function r(e){var r=["timechart","table","table-plain","panel","gauge","progressbar","bearing","windrose","thermometer","map"],n="<h1>Widget<br/><small>Factory</small></h1>";for(var o in r){var i=r[o];n+="<a class='big-button' id='"+i+"' href='?name="+i+"' target='builder'> <div class='flaticon-"+i+"'></div><b>NEW </b>"+i+"</a>"}var a='<div id="factory-right"><iframe name="builder" frameBorder="0"><p>Your browser does not support iframes.</p></iframe></div>';e.innerHTML='<div id="factory">'+n+"</div>"+a}function n(e,n){require(["widget/builder"],function(o){i(o.inputs,e)?o.init(e,n):(console.error("Some mandatory parameters missing for builder. Back to chooser."),r(n))})}function o(){function e(e){for(var r={},n=e.split("&"),o=0;o<n.length;o++){var i=n[o].split("=");r[i[0]]=decodeURIComponent(i[1])}return r}var r=window.location.search.substr(1);return null!==r&&""!==r?e(r):null}function i(e,r){var n=[];for(var o in e){var i=e[o];r.hasOwnProperty(i)||n.push(i)}return n.length&&console.warn("The following parameters are mandatory: "+n.join(", ")),!n.length}e(o())});