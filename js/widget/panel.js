define("widget/panel",["sos-data-access","locale-date","widget-common"],function(e,r,t){"use strict";var n=['<div class="panel widget">',"<h2></h2>","<h3>Loading...</h3>",'<dl class="dl-horizontal"></dl>','<div><span class="footnote"></span></div>',"</div>"].join("");return{inputs:t.inputs.concat(["feature","properties","refresh_interval","title"]),optional_inputs:t.optional_inputs,preferredSizes:[{w:400,h:400}],init:function(i,a){function o(e){if(!e.length)return void(l.innerHTML="(no data)");e.sort(function(e,r){return e.property.localeCompare(r.property)}),l.innerHTML=r.display(e[0].time);var t="";for(var n in e){var i=e[n];t+="<dt>"+i.property+"</dt>",t+="<dd>"+i.value+" "+i.uom+"</dd>"}d.innerHTML=t}a.innerHTML=n,a.querySelector("h2").innerHTML=i.title;var l=a.querySelector("h3"),d=a.querySelector("dl");t.init(i,a);var s=e(i,o),p=setInterval(s.read,1e3*i.refresh_interval);return s.read(),{destroy:function(){clearInterval(p)}}}}});