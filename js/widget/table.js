define("widget/table",["sos-data-access","locale-date","widget-common"],function(e,t,r){"use strict";var a=['<div class="table widget">',"<h3></h3>",'<div class="table-responsive"></div>','<div><span class="footnote"></span></div>',"</div>"].join("");return{inputs:r.inputs.concat(["feature","properties","time_start","time_end","title"]),optional_inputs:r.optional_inputs,preferredSizes:[{w:400,h:400}],init:function(i,n){function s(e){var t={},r={};for(var a in e){var i=e[a],n=i.time.getTime();t[n]||(t[n]={}),t[n][i.property]=i.value,r[i.property]||(r[i.property]={name:i.property,uom:i.uom})}o(t,r)}function o(e,r){var a='<table class="table table-striped table-condensed table-hover table-bordered">';a+="<thead>",a+="<tr>",a+="<th>Result Time</th>";var i=Object.keys(r).sort();for(var n in i){var s=i[n],o=r[s].uom;a+="<th>"+s+" ("+o+")</th>"}a+="</tr>",a+="</thead>";var d=Object.keys(e);d.sort().reverse();for(n in d){var p=d[n],v=e[p];a+="<tr>",a+='<th class="time">'+t.display(new Date(parseInt(p)))+"</th>";for(var c in i)a+="<td>"+v[i[c]]+"</td>";a+="</tr>"}a+="</table>",l.innerHTML=a}n.innerHTML=a,n.querySelector("h3").innerHTML=i.title;var l=n.querySelector(".table-responsive");r.init(i,n);var d=e(i,s);d.read()}}});