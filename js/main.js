/* This work is licensed under Creative Commons GNU LGPL License.

 License: http://creativecommons.org/licenses/LGPL/2.1/
 Version: 0.9
 Author:  Stefan Goessner/2006
 See:     http://goessner.net/download/prj/jsonxml/
 */

/**
 * @license RequireJS text 2.0.14 Copyright (c) 2010-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/text for details
 */

require.config({waitSeconds:30,baseUrl:"../js",paths:{text:"../lib/requirejs-text/text",bootstrap:"../lib/bootstrap/bootstrap",daterangepicker:"../lib/bootstrap-daterangepicker/daterangepicker",flot:"../lib/flot/jquery.flot","flot-navigate":"../lib/flot/jquery.flot.navigate","flot-resize":"../lib/flot/jquery.flot.resize","flot-time":"../lib/flot/jquery.flot.time","flot-tooltip":"../lib/flot.tooltip/jquery.flot.tooltip",highcharts:"../lib/highcharts/highcharts","highcharts-more":"../lib/highcharts/highcharts-more",jquery:"../lib/jquery/jquery","jquery-ui":"../lib/jquery-ui/jquery-ui",jqgrid:"../lib/jqgrid/jquery.jqGrid","jqgrid-locale-en":"../lib/jqgrid/grid.locale-en",leaflet:"../lib/leaflet/leaflet","leaflet-label":"../lib/Leaflet.label/leaflet.label",moment:"../lib/moment/moment","moment-es":"../lib/moment/locale/es","moment-ca":"../lib/moment/locale/ca"},shim:{bootstrap:{deps:["jquery"]},daterangepicker:{deps:["bootstrap","moment-es","moment-ca","jquery","css!../lib/bootstrap-daterangepicker/daterangepicker-bs3.css"]},flot:{deps:["jquery"]},"flot-navigate":{deps:["flot"]},"flot-resize":{deps:["flot"]},"flot-time":{deps:["flot"]},"flot-tooltip":{deps:["flot"]},highcharts:{exports:"Highcharts",deps:["jquery"]},"highcharts-more":{deps:["highcharts"]},"jquery-ui":{deps:["jquery","css!../css/jquery-ui.css"]},jqgrid:{deps:["jquery-ui","jqgrid-locale-en","css!../lib/jqgrid/ui.jqgrid.css"]},"jqgrid-locale-en":{deps:["jquery"]},leaflet:{deps:["css!../lib/leaflet/leaflet.css"]},"leaflet-label":{deps:["leaflet","css!../lib/Leaflet.label/leaflet.label.css"]},"moment-es":{deps:["moment"]},"moment-ca":{deps:["moment"]}}}),function(e){var n;if(document.currentScript)n=document.currentScript;else{var t=document.getElementsByTagName("script");n=t[t.length-1]}var r=n.src.replace(/[^\/]*$/,"");console.debug("Sensor Widgets' Base URL is: "+r),e.config({baseUrl:r})}(requirejs),define("main",function(){}),define("XML",[],function(){"use strict";return{read:function(e,n){var t={at:n?"":"@",toObj:function(e){var r={};if(1==e.nodeType){if(e.attributes.length)for(var a=0;a<e.attributes.length;a++){var i=e.attributes[a].name,o=e.attributes[a].value,s=0===i.lastIndexOf("xmlns:",0);n&&s||(r[t.at+i]=(o||"").toString())}if(e.firstChild){for(var l=0,c=0,u=!1,d=e.firstChild;d;d=d.nextSibling)1==d.nodeType?u=!0:3==d.nodeType&&d.nodeValue.match(/[^ \f\n\r\t\v]/)?l++:4==d.nodeType&&c++;if(u)if(2>l&&2>c)for(t.removeWhite(e),d=e.firstChild;d;d=d.nextSibling)3==d.nodeType?r["#text"]=t.escape(d.nodeValue):4==d.nodeType?r["#cdata"]=t.escape(d.nodeValue):r[d.nodeName]?r[d.nodeName]instanceof Array?r[d.nodeName][r[d.nodeName].length]=t.toObj(d):r[d.nodeName]=[r[d.nodeName],t.toObj(d)]:r[d.nodeName]=t.toObj(d);else e.attributes.length?r["#text"]=t.escape(t.innerXml(e)):r=t.escape(t.innerXml(e));else if(l)e.attributes.length?r["#text"]=t.escape(t.innerXml(e)):r=t.escape(t.innerXml(e));else if(c)if(c>1)r=t.escape(t.innerXml(e));else for(d=e.firstChild;d;d=d.nextSibling)r["#cdata"]=t.escape(d.nodeValue)}e.attributes.length||e.firstChild||(r=null)}else if(9==e.nodeType)r=t.toObj(e.documentElement);else{if(8==e.nodeType)return e.data;console.error("unhandled node type: "+e.nodeType)}return r},innerXml:function(e){var n="";if("innerHTML"in e)n=e.innerHTML;else for(var t=function(e){var n="";if(1==e.nodeType){n+="<"+e.nodeName;for(var r=0;r<e.attributes.length;r++){var a=e.attributes[r].name,i=e.attributes[r].value||"";n+=" "+a+'="'+i.toString()+'"'}if(e.firstChild){n+=">";for(var o=e.firstChild;o;o=o.nextSibling)n+=t(o);n+="</"+e.nodeName+">"}else n+="/>"}else 3==e.nodeType?n+=e.nodeValue:4==e.nodeType&&(n+="<![CDATA["+e.nodeValue+"]]>");return n},r=e.firstChild;r;r=r.nextSibling)n+=t(r);return n},escape:function(e){return e.replace(/[\\]/g,"\\\\").replace(/[\"]/g,'\\"').replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r")},removeWhite:function(e){e.normalize();for(var n=e.firstChild;n;)if(3==n.nodeType)if(n.nodeValue.match(/[^ \f\n\r\t\v]/))n=n.nextSibling;else{var r=n.nextSibling;e.removeChild(n),n=r}else 1==n.nodeType?(t.removeWhite(n),n=n.nextSibling):n=n.nextSibling;return e}};n&&(e=e.replace(/<(\/?)([^:>\s]*:)?([^>]+)>/g,"<$1$3>")),e=(new DOMParser).parseFromString(e,"text/xml"),9==e.nodeType&&(e=e.documentElement);var r={};return r[e.nodeName]=t.toObj(t.removeWhite(e)),r},write:function(e){var n=function(e,t,r){var a="";if(e instanceof Array)for(var i=0,o=e.length;o>i;i++)a+=r+n(e[i],t,r+"	")+"\n";else if("object"==typeof e){var s=!1;a+=r+"<"+t;for(var l in e)"@"==l.charAt(0)?a+=" "+l.substr(1)+'="'+e[l].toString()+'"':s=!0;if(a+=s?">":"/>",s){for(l in e)"#text"==l?a+=e[l]:"#cdata"==l?a+="<![CDATA["+e[l]+"]]>":"@"!=l.charAt(0)&&(a+=n(e[l],l,r+"	"));a+=("\n"==a.charAt(a.length-1)?r:"")+"</"+t+">"}}else a+=r+"<"+t+">"+e.toString()+"</"+t+">";return a},t="";for(var r in e)t+=n(e[r],r,"");return t}}}),define("SOS",["XML"],function(e){"use strict";var n={_url:null,setUrl:function(e){this._url=e},getCapabilities:function(e,n){var t={request:"GetCapabilities",sections:["Contents"]};this._send(t,function(n){e(n.contents)},n)},describeSensor:function(n,t,r){var a={request:"DescribeSensor",procedure:n,procedureDescriptionFormat:"http://www.opengis.net/sensorML/1.0.1"};this._send(a,function(n){var r=n.procedureDescription.description,a=e.read(r,!0);t(a.SensorML.member)},r)},getFeatureOfInterest:function(e,n,t){var r={request:"GetFeatureOfInterest",procedure:e};this._send(r,function(e){n(e.featureOfInterest)},t)},getDataAvailability:function(e,n,t,r,a){var i={request:"GetDataAvailability"};e&&(i.procedure=e),n&&n.length&&(i.featureOfInterest=n),t&&t.length&&(i.observedProperty=t),this._send(i,function(e){r(e.dataAvailability)},a)},getObservation:function(e,n,t,r,a,i){var o={request:"GetObservation"};if(e&&(o.offering=e),n&&n.length&&(o.featureOfInterest=n),t&&t.length&&(o.observedProperty=t),r){var s;s=r.length&&2==r.length?"during":"equals";var l={};l[s]={ref:"om:resultTime",value:r},o.temporalFilter=[l]}this._send(o,function(e){a(e.observations)},i)},_send:function(e,n,t){e.service="SOS",e.version="2.0.0";var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4==r.readyState){var a=r.responseText;try{a=JSON.parse(a)}catch(i){}if(200==r.status)n.call(this,a);else{var i={status:r.statusText,url:this._url,request:e,response:a};console.log(i),t&&t.call(this,i.status,i.url,i.request,i.response)}}}.bind(this),r.open("POST",this._url,!0),r.setRequestHeader("Content-Type","application/json"),r.setRequestHeader("Accept","application/json"),r.send(JSON.stringify(e))}};return n}),define("sos-data-access",["SOS"],function(e){"use strict";var n={},t={},r={};return function(a,i,o){function s(){var n=a.offering,t=a.feature?[a.feature]:l(a.features)?a.features:JSON.parse(a.features),r=a.property?[a.property]:l(a.properties)?a.properties:JSON.parse(a.properties),i=a.time_start&&a.time_end?[a.time_start,a.time_end]:"latest";e.getObservation(n,t,r,i,c,o)}function l(e){return"[object Array]"===Object.prototype.toString.call(e)}function c(e){function n(n,r){t.push({time:new Date(r.resultTime),value:r.result.hasOwnProperty("value")?r.result.value:r.result,feature:r.featureOfInterest.name.value,property:n,uom:r.result.hasOwnProperty("uom")?r.result.uom:"(N/A)"}),t.length==e.length&&i(t)}e.length||i([]);var t=[];for(var r in e){var a=e[r];u(a.procedure,a.observableProperty,n,a)}}function u(a,i,s,l){n[a]?s(n[a][i],l):(r[a]||(r[a]=[]),r[a].push({callback:s,id:i,context:l}),t[a]||(t[a]=!0,e.describeSensor(a,function(e){var t=e.hasOwnProperty("ProcessModel")?e.ProcessModel.outputs.OutputList.output:e.System.outputs.OutputList.output;t=t instanceof Array?t:[t];var i=["Quantity","Count","Boolean","Category","Text","ObservableProperty"],o=[];for(var s in t){var l=t[s];for(var c in i){var u=i[c];l.hasOwnProperty(u)&&(l.id=l[u].definition)}o[l.id]=l.name}for(n[a]=o;r[a].length;){var d=r[a].shift();d.callback.call(void 0,n[a][d.id],d.context)}},o)))}return e.setUrl(a.service),{read:s}}}),define("widget-common",[],function(){"use strict";function e(e){var n=document.createElement("link");n.setAttribute("rel","stylesheet"),n.setAttribute("type","text/css"),n.setAttribute("href",e),"undefined"!=typeof n&&document.getElementsByTagName("head")[0].appendChild(n)}return{inputs:["service","offering"],optional_inputs:["footnote","custom_css_url"],init:function(n,t){void 0!==n.custom_css_url&&e(n.custom_css_url),void 0!==n.footnote&&t.querySelector(".footnote")&&(t.querySelector(".footnote").innerHTML=n.footnote)}}}),define("text",["module"],function(e){"use strict";var n,t,r,a,i,o=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],s=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,l=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,c="undefined"!=typeof location&&location.href,u=c&&location.protocol&&location.protocol.replace(/\:/,""),d=c&&location.hostname,f=c&&(location.port||void 0),p={},m=e.config&&e.config()||{};return n={version:"2.0.14",strip:function(e){if(e){e=e.replace(s,"");var n=e.match(l);n&&(e=n[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:m.createXhr||function(){var e,n,t;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(n=0;3>n;n+=1){t=o[n];try{e=new ActiveXObject(t)}catch(r){}if(e){o=[t];break}}return e},parseName:function(e){var n,t,r,a=!1,i=e.lastIndexOf("."),o=0===e.indexOf("./")||0===e.indexOf("../");return-1!==i&&(!o||i>1)?(n=e.substring(0,i),t=e.substring(i+1)):n=e,r=t||n,i=r.indexOf("!"),-1!==i&&(a="strip"===r.substring(i+1),r=r.substring(0,i),t?t=r:n=r),{moduleName:n,ext:t,strip:a}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,t,r,a){var i,o,s,l=n.xdRegExp.exec(e);return l?(i=l[2],o=l[3],o=o.split(":"),s=o[1],o=o[0],!(i&&i!==t||o&&o.toLowerCase()!==r.toLowerCase()||(s||o)&&s!==a)):!0},finishLoad:function(e,t,r,a){r=t?n.strip(r):r,m.isBuild&&(p[e]=r),a(r)},load:function(e,t,r,a){if(a&&a.isBuild&&!a.inlineText)return void r();m.isBuild=a&&a.isBuild;var i=n.parseName(e),o=i.moduleName+(i.ext?"."+i.ext:""),s=t.toUrl(o),l=m.useXhr||n.useXhr;return 0===s.indexOf("empty:")?void r():void(!c||l(s,u,d,f)?n.get(s,function(t){n.finishLoad(e,i.strip,t,r)},function(e){r.error&&r.error(e)}):t([o],function(e){n.finishLoad(i.moduleName+"."+i.ext,i.strip,e,r)}))},write:function(e,t,r){if(p.hasOwnProperty(t)){var a=n.jsEscape(p[t]);r.asModule(e+"!"+t,"define(function () { return '"+a+"';});\n")}},writeFile:function(e,t,r,a,i){var o=n.parseName(t),s=o.ext?"."+o.ext:"",l=o.moduleName+s,c=r.toUrl(o.moduleName+s)+".js";n.load(l,r,function(){var t=function(e){return a(c,e)};t.asModule=function(e,n){return a.asModule(e,c,n)},n.write(e,l,t,i)},i)}},"node"===m.env||!m.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]&&!process.versions["atom-shell"]?(t=require.nodeRequire("fs"),n.get=function(e,n,r){try{var a=t.readFileSync(e,"utf8");"﻿"===a[0]&&(a=a.substring(1)),n(a)}catch(i){r&&r(i)}}):"xhr"===m.env||!m.env&&n.createXhr()?n.get=function(e,t,r,a){var i,o=n.createXhr();if(o.open("GET",e,!0),a)for(i in a)a.hasOwnProperty(i)&&o.setRequestHeader(i.toLowerCase(),a[i]);m.onXhr&&m.onXhr(o,e),o.onreadystatechange=function(){var n,a;4===o.readyState&&(n=o.status||0,n>399&&600>n?(a=new Error(e+" HTTP status: "+n),a.xhr=o,r&&r(a)):t(o.responseText),m.onXhrComplete&&m.onXhrComplete(o,e))},o.send(null)}:"rhino"===m.env||!m.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?n.get=function(e,n){var t,r,a="utf-8",i=new java.io.File(e),o=java.lang.System.getProperty("line.separator"),s=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(i),a)),l="";try{for(t=new java.lang.StringBuffer,r=s.readLine(),r&&r.length()&&65279===r.charAt(0)&&(r=r.substring(1)),null!==r&&t.append(r);null!==(r=s.readLine());)t.append(o),t.append(r);l=String(t.toString())}finally{s.close()}n(l)}:("xpconnect"===m.env||!m.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(r=Components.classes,a=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),i="@mozilla.org/windows-registry-key;1"in r,n.get=function(e,n){var t,o,s,l={};i&&(e=e.replace(/\//g,"\\")),s=new FileUtils.File(e);try{t=r["@mozilla.org/network/file-input-stream;1"].createInstance(a.nsIFileInputStream),t.init(s,1,0,!1),o=r["@mozilla.org/intl/converter-input-stream;1"].createInstance(a.nsIConverterInputStream),o.init(t,"utf-8",t.available(),a.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),o.readString(t.available(),l),o.close(),t.close(),n(l.value)}catch(c){throw new Error((s&&s.path||"")+": "+c)}}),n}),define("text!translations.json",[],function(){return'{\n  "langs": {\n    "en": "English",\n    "es": "Español",\n    "ca": "Català"\n  },\n  "(no date)": {\n    "es": "(sin fecha)",\n    "ca": "(sense data)"\n  },\n  "No widget name specified": {\n    "es": "No se ha especificado ningún nombre de widget",\n    "ca": "Cal especificar un nom de widget"\n  },\n  "Widget \'{name}\' cannot be found": {\n    "es": "No se ha encontrado el widget de nombre \'{name}\'",\n    "ca": "No s\'ha trobat cap widget anomenat \'{name}\'"\n  },\n  "The \'{name}\' widget is missing some mandatory parameters: ": {\n    "es": "Faltan algunos parámetros obligatorios para el widget \'{name}\': ",\n    "ca": "Cal afegir els següents paràmetres obligatoris al widget \'{name}\': "\n  },\n  "Loading...": {\n    "es": "Cargando...",\n    "ca": "Carregant..."\n  },\n  "deg": {\n    "es": "º",\n    "ca": "º"\n  },\n  "Request time": {\n    "es": "Petición el",\n    "ca": "Petició el"\n  },\n  "Response time": {\n    "es": "Respuesta el",\n    "ca": "Resposta el"\n  },\n  "(no data)": {\n    "es": "(sin datos)",\n    "ca": "(sense dades)"\n  },\n  "Result time": {\n    "es": "Resultado del",\n    "ca": "Resultat del"\n  },\n  "Cel": {\n    "es": "ºC",\n    "ca": "ºC"\n  },\n  "Results": {\n    "es": "Resultados",\n    "ca": "Resultats"\n  },\n  "Time": {\n    "es": "Hora",\n    "ca": "Hora"\n  },\n  "Value": {\n    "es": "Valor",\n    "ca": "Valor"\n  },\n  "Unit": {\n    "es": "Unidad",\n    "ca": "Unitat"\n  },\n  "{name} Widget Configuration": {\n    "es": "Configuración de {name}",\n    "ca": "Configuració de {name}"\n  },\n  "Mandatory inputs": {\n    "es": "Parámetros obligatorios",\n    "ca": "Paràmetres obligatoris"\n  },\n  "Bearing": {\n    "es": "Rumbo",\n    "ca": "Rumb"\n  },\n  "Gauge": {\n    "es": "Manómetro",\n    "ca": "Manòmetre"\n  },\n  "Jqgrid": {\n    "es": "Tabla JQuery",\n    "ca": "Taula JQuery"\n  },\n  "Map": {\n    "es": "Mapa",\n    "ca": "Mapa"\n  },\n  "Panel": {\n    "es": "Panel",\n    "ca": "Panell"\n  },\n  "Progressbar": {\n    "es": "Barra",\n    "ca": "Barra"\n  },\n  "Table": {\n    "es": "Tabla",\n    "ca": "Taula"\n  },\n  "Thermometer": {\n    "es": "Termómetro",\n    "ca": "Termòmetre"\n  },\n  "Timechart": {\n    "es": "Serie tiempo",\n    "ca": "Sèrie temps"\n  },\n  "Windrose": {\n    "es": "Rosa vientos",\n    "ca": "Rosa vents"\n  },\n  "Select a Service...": {\n    "es": "Seleccione un servicio...",\n    "ca": "Sel·leccioneu un servei..."\n  },\n  "Select an Offering...": {\n    "es": "Seleccione un offering...",\n    "ca": "Sel·leccioneu un offering..."\n  },\n  "(multiselect)": {\n    "es": "(selección múltiple)",\n    "ca": "(selecció múltiple)"\n  },\n  "Service": {\n    "es": "Servicio",\n    "ca": "Servei"\n  },\n  "Property": {\n    "es": "Propiedad",\n    "ca": "Propietat"\n  },\n  "Properties": {\n    "es": "Propiedades",\n    "ca": "Propietats"\n  },\n  "Refresh Interval": {\n    "es": "Intervalo de refresco",\n    "ca": "Intèrval de refresc"\n  },\n  "Time Range": {\n    "es": "Rango de tiempo",\n    "ca": "Rang de temps"\n  },\n  "MMM D, YYYY H:mm": {\n    "es": "D MMM YYYY H:mm",\n    "ca": "D MMM YYYY H:mm"\n  },\n  "Custom Range": {\n    "es": "Rango predefinido",\n    "ca": "Rang predefinit"\n  },\n  "Today": {\n    "es": "Hoy",\n    "ca": "Avui"\n  },\n  "Last hour": {\n    "es": "La última hora",\n    "ca": "La última hora"\n  },\n  "Last {n} hours": {\n    "es": "Las últimas {n} horas",\n    "ca": "Les últimes {n} hores"\n  },\n  "From": {\n    "es": "De",\n    "ca": "De"\n  },\n  "To": {\n    "es": "A",\n    "ca": "A"\n  },\n  "Apply": {\n    "es": "Aplicar",\n    "ca": "Aplica"\n  },\n  "Cancel": {\n    "es": "Cancelar",\n    "ca": "Cancel·la"\n  },\n  "W": {\n    "es": "S",\n    "ca": "S"\n  },\n  "Optional inputs": {\n    "es": "Parámetros opcionales",\n    "ca": "Paràmetres opcionals"\n  },\n  "Title": {\n    "es": "Título",\n    "ca": "Títol"\n  },\n  "Footnote": {\n    "es": "Nota al pie",\n    "ca": "Nota al peu"\n  },\n  "Custom Css Url": {\n    "es": "URL del CSS personalizado",\n    "ca": "URL del CSS personalitzat"\n  },\n  "Max Initial Zoom": {\n    "es": "Zoom Inicial Máximo",\n    "ca": "Zoom Inicial Màxim"\n  },\n  "Base Layer": {\n    "es": "Mapa de Base",\n    "ca": "Mapa de Base"\n  },\n  "Widget dimensions": {\n    "es": "Tamaño del widget",\n    "ca": "Mides del widget"\n  },\n  "Initial Size": {\n    "es": "Tamaño inicial",\n    "ca": "Mida inicial"\n  },\n  "Create Widget": {\n    "es": "Crear Widget",\n    "ca": "Crear Widget"\n  },\n  "{name} Configuration Parameters": {\n    "es": "Parámetros de {name}",\n    "ca": "Paràmetres de {name}"\n  },\n  "jqGrid Example": {\n    "es": "Ejemplo de tabla JQuery",\n    "ca": "Exemple de taula JQuery"\n  },\n  "Last observations": {\n    "es": "Observaciones más recientes",\n    "ca": "Darreres observacions"\n  },\n  "Data Table - last 3 hours": {\n    "es": "Tabla de datos - últimas 3 horas",\n    "ca": "Taula de dades - darreres 3 hores"\n  },\n  "Sirena Windrose": {\n    "es": "Rosa de los Vientos Sirena",\n    "ca": "Rosa dels Vents Sirena"\n  },\n  "Last 3 hours of wind observations": {\n    "es": "Últimas 3 horas de observaciones del viento",\n    "ca": "Darreres 3 hores d\'observacions del vent"\n  },\n  "Code": {\n    "es": "Código",\n    "ca": "Codi"\n  },\n  "Embed": {\n    "es": "Incrustar",\n    "ca": "Incrusta"\n  },\n  "Link": {\n    "es": "Enlazar",\n    "ca": "Enllaça"\n  },\n  "Mandatory": {\n    "es": "Obligatorios",\n    "ca": "Obligatoris"\n  },\n  "Optional": {\n    "es": "Opcionales",\n    "ca": "Opcionals"\n  },\n  "Suggested Sizes": {\n    "es": "Tamaños recomendados",\n    "ca": "Mides recomanades"\n  },\n  "A sample footnote for {name} widget": {\n    "es": "Nota al pie de ejemplo en el widget {name}",\n    "ca": "Nota al peu d\'exemple al widget {name}"\n  }\n}\n'}),define("i18n",["text!translations.json"],function(e){"use strict";function n(e){o=e,console.debug("Language set to "+o)}function t(e,n){for(var t in n)e=e.replace(new RegExp("{"+t+"}","g"),n[t]);return e}function r(e,n){return a.hasOwnProperty(e)&&a[e].hasOwnProperty(o)&&(e=a[e][o]),t(e,n)}var a=JSON.parse(e),i={};location.search.substr(1).split("&").forEach(function(e){var n=e.split("=");i[n[0]]=n[1]});var o;return n(i.hasOwnProperty("lang")?i.lang:"en"),{langs:function(){return a.langs},getLang:function(){return o},setLang:n,t:r,addTranslations:function(e){Object.keys(e).forEach(function(n){a.hasOwnProperty(n)?console.warn("Skipping duplicate entry '"+n+"' in translation bundle."):a[n]=e[n]})},translateDocTree:function(e){e||(e=document);for(var n=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,null,!1);n.nextNode();){var t=n.currentNode;/\S/.test(t.nodeValue)&&(t.nodeValue=r(t.nodeValue))}}}}),define("locale-date",["i18n"],function(e){"use strict";var n={utc:!1,locale:navigator.language||navigator.browserLanguage};return{display:function(t){return t?n.utc?t.toLocaleString(n.locale,{timeZone:"UTC"})+" UTC":t.toLocaleString(n.locale):e.t("(no date)")},locale:function(e){return e&&(n.locale=e),n.locale},utc:function(e){return"undefined"!=typeof e&&(n.utc=e),n.utc}}}),define("SensorWidget",["i18n"],function(e){"use strict";function n(e,n){return e.replace(/^(?=.)/gm,new Array(n+1).join(" "))}var t={},r=function(e){return function(){return"SensorWidgetTarget-"+ ++e}}(0);return function(a,i,o){function s(e,n,t){var r="";n&&(r="["+n+"] "),t&&t.request&&(r+=t.request+": "),e&&(r+=e),o.innerHTML='<div class="text-danger">'+r+"</div>"}function l(n,t,r){var a=[];for(var i in t){var o=t[i];r.hasOwnProperty(o)||a.push(o)}return a.length&&s(e.t("The '{name}' widget is missing some mandatory parameters: ",{name:n})+a.join(", ")),!a.length}return o||(o=document.body),a&&i?(o.id||(o.id=r()),i.service||(i.service="/52n-sos/sos/json"),require(["widget/"+a],function(e){o.innerHTML="",t.hasOwnProperty(o.id)&&t[o.id]&&t[o.id].hasOwnProperty("destroy")&&(console.debug("Destroying previous widget on ElementId="+o.id),t[o.id].destroy(),delete t[o.id]),l(a,e.inputs,i)&&(console.debug("Creating new "+a+" widget on ElementId="+o.id),t[o.id]=e.init(i,o,s))},function(){s(e.t("Widget '{name}' cannot be found",{name:a}))})):a||s(e.t("No widget name specified")),{name:a,config:i,renderTo:o,inspect:function(e){require(["widget/"+a],function(n){e.call(this,n.inputs,n.optional_inputs,n.preferredSizes)})},url:function(){function n(e){var n=[];return e.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,function(e){"/.."===e?n.pop():n.push(e)}),n.join("").replace(/^\//,"/"===e.charAt(0)?"/":"")}var t=n(require.toUrl("../widget/"))+"?";return t+="name="+encodeURIComponent(a)+"&",t+=Object.keys(i).map(function(e){var n=i[e];return"object"==typeof i[e]&&(n=JSON.stringify(i[e])),e+"="+encodeURIComponent(n)}).join("&"),t+="&lang="+e.getLang()},iframe:function(e,n){return e=e?e:"100%",n=n?n:"100%",'<iframe src="'+this.url()+'" width="'+e+'" height="'+n+'" frameBorder="0"></iframe>'},javascript:function(){var e="SensorWidget('"+a+"', "+JSON.stringify(i,null,3)+",\r\ndocument.getElementById('"+a+"-container'));\r\n";return"require(['SensorWidget'], function(SensorWidget) {\r\n"+n(e,3)+"});"}}}}),define("css",{load:function(e,n,t){function r(e){var n=document.getElementsByTagName("head")[0],r=document.createElement("link");r.href=e,r.rel="stylesheet",r.type="text/css",r.onload=function(){t()},n.appendChild(r)}"undefined"==typeof document?t():r(n.toUrl(e))}});